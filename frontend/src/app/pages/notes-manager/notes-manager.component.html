<div class="flex items-center gap-4 mb-4">
  <!-- *ngIf="user.role !== 'ADMIN' && user.role !== 'STUDENT'" -->
  <nz-upload
    [nzAction]="uploadUrl"
    [nzCustomRequest]=""
    (nzChange)="handleChange($event)"
  >
    <button nz-button>
      <span nz-icon nzType="upload"></span>
      Click to Upload
    </button>
  </nz-upload>
  <nz-select
    class="w-[200px]"
    nzPlaceHolder="Select department"
    [(ngModel)]="selectedDepartment"
    (ngModelChange)="getFiles()"
  >
    <nz-option
      *ngFor="let d of departments"
      [nzValue]="d.id"
      [nzLabel]="d.name"
    ></nz-option>
  </nz-select>
</div>

<div class="flex flex-wrap gap-4 mt-8" *ngIf="user.role === 'STUDENT'">
  <div *ngFor="let file of files" class="flex flex-col items-center">
    <span class="text-lg font-medium">{{ file.fileName }}</span>
    <iframe
      [src]="trustedUrl('http://localhost:3000/' + file.fileName)"
      width="400px"
      height="450px"
    ></iframe>
  </div>
</div>
<div
  *ngIf="user.role === 'ADMIN' || user.role === 'STAFF'"
  class="flex flex-wrap gap-4"
>
  <div
    *ngFor="let file of files"
    class="flex flex-col gap-3 p-3 border border-gray-100 max-w-max"
  >
    <a
      [href]="trustedUrl('http://localhost:3000/' + file.fileName)"
      target="_blank"
      >{{ file.fileName }}</a
    >
    <div>
      <nz-tag nzColor="blue">{{ file.userName }}</nz-tag>
      <nz-tag nzColor="red">{{ file.departmentName }}</nz-tag>
    </div>
  </div>
</div>
